{
  "name": "formula",
  "rules": {
    "program": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "config"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SYMBOL",
            "name": "module"
          }
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "SYMBOL",
              "name": "config"
            },
            {
              "type": "REPEAT1",
              "content": {
                "type": "SYMBOL",
                "name": "module"
              }
            }
          ]
        }
      ]
    },
    "module": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "domain"
        },
        {
          "type": "SYMBOL",
          "name": "model"
        },
        {
          "type": "SYMBOL",
          "name": "transform"
        },
        {
          "type": "SYMBOL",
          "name": "tsystem"
        },
        {
          "type": "SYMBOL",
          "name": "machine"
        }
      ]
    },
    "machine": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "machine_sig_config"
        },
        {
          "type": "STRING",
          "value": "{"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "machine_body"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": "}"
        }
      ]
    },
    "machine_body": {
      "type": "REPEAT1",
      "content": {
        "type": "SYMBOL",
        "name": "_machine_sentence_conf"
      }
    },
    "_machine_sentence_conf": {
      "type": "SEQ",
      "members": [
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "sentence_config"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "SYMBOL",
          "name": "machine_sentence"
        },
        {
          "type": "STRING",
          "value": "."
        }
      ]
    },
    "machine_sentence": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "machine_prop"
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "boot"
            },
            {
              "type": "SYMBOL",
              "name": "step"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "CHOICE",
              "members": [
                {
                  "type": "STRING",
                  "value": "initially"
                },
                {
                  "type": "STRING",
                  "value": "next"
                }
              ]
            },
            {
              "type": "SYMBOL",
              "name": "update"
            }
          ]
        }
      ]
    },
    "machine_prop": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "property"
        },
        {
          "type": "SYMBOL",
          "name": "bareid"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "func_term"
        }
      ]
    },
    "machine_sig_config": {
      "type": "REPEAT1",
      "content": {
        "type": "SYMBOL",
        "name": "machine_sig"
      }
    },
    "machine_sig": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "machine"
        },
        {
          "type": "SYMBOL",
          "name": "bareid"
        },
        {
          "type": "SYMBOL",
          "name": "machine_sig_in"
        },
        {
          "type": "STRING",
          "value": "of"
        },
        {
          "type": "SYMBOL",
          "name": "mod_refs"
        }
      ]
    },
    "machine_sig_in": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "("
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "vom_param_list"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": ")"
        }
      ]
    },
    "model": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "model_sig_config"
        },
        {
          "type": "STRING",
          "value": "{"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "model_body"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": "}"
        }
      ]
    },
    "model_body": {
      "type": "REPEAT1",
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "SYMBOL",
            "name": "model_sentence"
          },
          {
            "type": "STRING",
            "value": "."
          }
        ]
      }
    },
    "model_sentence": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "model_fact_list"
        },
        {
          "type": "SYMBOL",
          "name": "model_contract_conf"
        }
      ]
    },
    "model_contract_conf": {
      "type": "SEQ",
      "members": [
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "sentence_config"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "SYMBOL",
          "name": "model_contract"
        }
      ]
    },
    "model_contract": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "ensures"
            },
            {
              "type": "SYMBOL",
              "name": "body_list"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "requires"
            },
            {
              "type": "SYMBOL",
              "name": "body_list"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "requires"
            },
            {
              "type": "SYMBOL",
              "name": "card_spec"
            },
            {
              "type": "PATTERN",
              "value": "d+"
            },
            {
              "type": "SYMBOL",
              "name": "id"
            }
          ]
        }
      ]
    },
    "model_fact_list": {
      "type": "SEQ",
      "members": [
        {
          "type": "SEQ",
          "members": [
            {
              "type": "CHOICE",
              "members": [
                {
                  "type": "SYMBOL",
                  "name": "sentence_config"
                },
                {
                  "type": "BLANK"
                }
              ]
            },
            {
              "type": "SYMBOL",
              "name": "model_fact"
            }
          ]
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": ","
              },
              {
                "type": "SEQ",
                "members": [
                  {
                    "type": "CHOICE",
                    "members": [
                      {
                        "type": "SYMBOL",
                        "name": "sentence_config"
                      },
                      {
                        "type": "BLANK"
                      }
                    ]
                  },
                  {
                    "type": "SYMBOL",
                    "name": "model_fact"
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "model_fact": {
      "type": "SEQ",
      "members": [
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "SYMBOL",
                  "name": "bareid"
                },
                {
                  "type": "STRING",
                  "value": "is"
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "SYMBOL",
          "name": "func_term"
        }
      ]
    },
    "card_spec": {
      "type": "CHOICE",
      "members": [
        {
          "type": "STRING",
          "value": "some"
        },
        {
          "type": "STRING",
          "value": "atmost"
        },
        {
          "type": "STRING",
          "value": "atleast"
        }
      ]
    },
    "model_sig_config": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "model_sig"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "config"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "model_sig": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "model_intro"
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "SYMBOL",
              "name": "model_intro"
            },
            {
              "type": "STRING",
              "value": "includes"
            },
            {
              "type": "SYMBOL",
              "name": "mod_refs"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "SYMBOL",
              "name": "model_intro"
            },
            {
              "type": "STRING",
              "value": "extends"
            },
            {
              "type": "SYMBOL",
              "name": "mod_refs"
            }
          ]
        }
      ]
    },
    "model_intro": {
      "type": "SEQ",
      "members": [
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "STRING",
              "value": "partial"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": "model"
        },
        {
          "type": "SYMBOL",
          "name": "bareid"
        },
        {
          "type": "STRING",
          "value": "of"
        },
        {
          "type": "SYMBOL",
          "name": "mod_ref"
        }
      ]
    },
    "tsystem": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "transform"
        },
        {
          "type": "STRING",
          "value": "system"
        },
        {
          "type": "SYMBOL",
          "name": "bareid"
        },
        {
          "type": "SYMBOL",
          "name": "tsystem_rest"
        }
      ]
    },
    "tsystem_rest": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "transform_sig_config"
        },
        {
          "type": "STRING",
          "value": "{"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "trans_steps"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": "}"
        }
      ]
    },
    "trans_steps": {
      "type": "REPEAT1",
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "SYMBOL",
            "name": "_trans_step_config"
          },
          {
            "type": "STRING",
            "value": "."
          }
        ]
      }
    },
    "_trans_step_config": {
      "type": "SEQ",
      "members": [
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "sentence_config"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "SYMBOL",
          "name": "step"
        }
      ]
    },
    "transform": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "transform"
        },
        {
          "type": "FIELD",
          "name": "name",
          "content": {
            "type": "SYMBOL",
            "name": "bareid"
          }
        },
        {
          "type": "SYMBOL",
          "name": "transform_rest"
        }
      ]
    },
    "transform_rest": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "transform_sig_config"
        },
        {
          "type": "STRING",
          "value": "{"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "trans_body"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": "}"
        }
      ]
    },
    "trans_body": {
      "type": "REPEAT1",
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "SYMBOL",
            "name": "trans_sentence_config"
          },
          {
            "type": "STRING",
            "value": "."
          }
        ]
      }
    },
    "trans_sentence_config": {
      "type": "SEQ",
      "members": [
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "sentence_config"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "SYMBOL",
          "name": "trans_sentence"
        }
      ]
    },
    "trans_sentence": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "rule"
        },
        {
          "type": "SYMBOL",
          "name": "type_decl"
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "CHOICE",
              "members": [
                {
                  "type": "STRING",
                  "value": "ensures"
                },
                {
                  "type": "STRING",
                  "value": "requires"
                }
              ]
            },
            {
              "type": "SYMBOL",
              "name": "body_list"
            }
          ]
        }
      ]
    },
    "transform_sig_config": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "transform_sig"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "config"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "transform_sig": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "trans_sig_in"
        },
        {
          "type": "STRING",
          "value": "returns"
        },
        {
          "type": "STRING",
          "value": "("
        },
        {
          "type": "SYMBOL",
          "name": "model_param_list"
        },
        {
          "type": "STRING",
          "value": ")"
        }
      ]
    },
    "trans_sig_in": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "("
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "vom_param_list"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": ")"
        }
      ]
    },
    "domain": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "domain_sig_config"
        },
        {
          "type": "STRING",
          "value": "{"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "dom_sentences"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": "}"
        }
      ]
    },
    "dom_sentences": {
      "type": "REPEAT1",
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "SYMBOL",
            "name": "dom_sentence_config"
          },
          {
            "type": "STRING",
            "value": "."
          }
        ]
      }
    },
    "dom_sentence_config": {
      "type": "SEQ",
      "members": [
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "sentence_config"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "SYMBOL",
          "name": "dom_sentence"
        }
      ]
    },
    "dom_sentence": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "rule"
        },
        {
          "type": "SYMBOL",
          "name": "type_decl"
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "conforms"
            },
            {
              "type": "SYMBOL",
              "name": "body_list"
            }
          ]
        }
      ]
    },
    "domain_sig_config": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "domain_sig"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "config"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "domain_sig": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "domain"
        },
        {
          "type": "FIELD",
          "name": "name",
          "content": {
            "type": "SYMBOL",
            "name": "bareid"
          }
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "CHOICE",
              "members": [
                {
                  "type": "STRING",
                  "value": "extends"
                },
                {
                  "type": "STRING",
                  "value": "includes"
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "mod_refs"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "config": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "["
        },
        {
          "type": "SYMBOL",
          "name": "setting_list"
        },
        {
          "type": "STRING",
          "value": "]"
        }
      ]
    },
    "sentence_config": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "["
        },
        {
          "type": "SYMBOL",
          "name": "setting_list"
        },
        {
          "type": "STRING",
          "value": "]"
        }
      ]
    },
    "setting_list": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "setting"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": ","
              },
              {
                "type": "SYMBOL",
                "name": "setting"
              }
            ]
          }
        }
      ]
    },
    "setting": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "id"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "constant"
        }
      ]
    },
    "model_param_list": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "mod_ref_rename"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": ","
              },
              {
                "type": "SYMBOL",
                "name": "mod_ref_rename"
              }
            ]
          }
        }
      ]
    },
    "val_or_model_program": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SEQ",
          "members": [
            {
              "type": "FIELD",
              "name": "name",
              "content": {
                "type": "SYMBOL",
                "name": "bareid"
              }
            },
            {
              "type": "STRING",
              "value": ":"
            },
            {
              "type": "SYMBOL",
              "name": "unnbody"
            }
          ]
        },
        {
          "type": "SYMBOL",
          "name": "mod_ref_rename"
        }
      ]
    },
    "vom_param_list": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "val_or_model_program"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": ","
              },
              {
                "type": "SYMBOL",
                "name": "val_or_model_program"
              }
            ]
          }
        }
      ]
    },
    "update": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "step_or_update_lhs"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "choice_list"
        }
      ]
    },
    "step": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "step_or_update_lhs"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "mod_apply"
        }
      ]
    },
    "choice_list": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "mod_apply"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": ";"
              },
              {
                "type": "SYMBOL",
                "name": "mod_apply"
              }
            ]
          }
        }
      ]
    },
    "mod_apply": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "mod_ref"
        },
        {
          "type": "STRING",
          "value": "("
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "mod_arg_list"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": ")"
        }
      ]
    },
    "mod_arg_list": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "mod_app_arg"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": ","
              },
              {
                "type": "SYMBOL",
                "name": "mod_app_arg"
              }
            ]
          }
        }
      ]
    },
    "mod_app_arg": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "func_term"
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "SYMBOL",
              "name": "bareid"
            },
            {
              "type": "STRING",
              "value": "at"
            },
            {
              "type": "SYMBOL",
              "name": "string"
            }
          ]
        }
      ]
    },
    "step_or_update_lhs": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "id"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": ","
              },
              {
                "type": "SYMBOL",
                "name": "id"
              }
            ]
          }
        }
      ]
    },
    "mod_refs": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "mod_ref"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": ","
              },
              {
                "type": "SYMBOL",
                "name": "mod_ref"
              }
            ]
          }
        }
      ]
    },
    "mod_ref": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "mod_ref_rename"
        },
        {
          "type": "SYMBOL",
          "name": "mod_ref_no_rename"
        }
      ]
    },
    "mod_ref_rename": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "name",
          "content": {
            "type": "SYMBOL",
            "name": "bareid"
          }
        },
        {
          "type": "STRING",
          "value": "::"
        },
        {
          "type": "SYMBOL",
          "name": "bareid"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "@"
                },
                {
                  "type": "SYMBOL",
                  "name": "string"
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "mod_ref_no_rename": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "bareid"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "@"
                },
                {
                  "type": "SYMBOL",
                  "name": "string"
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "type_decl": {
      "type": "SEQ",
      "members": [
        {
          "type": "FIELD",
          "name": "type",
          "content": {
            "type": "SYMBOL",
            "name": "bareid"
          }
        },
        {
          "type": "STRING",
          "value": "::="
        },
        {
          "type": "SYMBOL",
          "name": "type_decl_body"
        }
      ]
    },
    "type_decl_body": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "unnbody"
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "("
            },
            {
              "type": "SYMBOL",
              "name": "fields"
            },
            {
              "type": "STRING",
              "value": ")"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "-"
            },
            {
              "type": "STRING",
              "value": "("
            },
            {
              "type": "SYMBOL",
              "name": "fields"
            },
            {
              "type": "STRING",
              "value": ")"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "new"
            },
            {
              "type": "STRING",
              "value": "("
            },
            {
              "type": "SYMBOL",
              "name": "fields"
            },
            {
              "type": "STRING",
              "value": ")"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "SYMBOL",
              "name": "fun_decl"
            },
            {
              "type": "STRING",
              "value": "("
            },
            {
              "type": "SYMBOL",
              "name": "fields"
            },
            {
              "type": "SYMBOL",
              "name": "maparrow"
            },
            {
              "type": "SYMBOL",
              "name": "fields"
            },
            {
              "type": "STRING",
              "value": ")"
            }
          ]
        }
      ]
    },
    "fun_decl": {
      "type": "CHOICE",
      "members": [
        {
          "type": "STRING",
          "value": "inj"
        },
        {
          "type": "STRING",
          "value": "bij"
        },
        {
          "type": "STRING",
          "value": "sur"
        },
        {
          "type": "STRING",
          "value": "fun"
        }
      ]
    },
    "fields": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "field"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": ","
              },
              {
                "type": "SYMBOL",
                "name": "field"
              }
            ]
          }
        }
      ]
    },
    "field": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "unnbody"
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "any"
            },
            {
              "type": "SYMBOL",
              "name": "unnbody"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "FIELD",
              "name": "name",
              "content": {
                "type": "SYMBOL",
                "name": "bareid"
              }
            },
            {
              "type": "STRING",
              "value": ":"
            },
            {
              "type": "CHOICE",
              "members": [
                {
                  "type": "STRING",
                  "value": "any"
                },
                {
                  "type": "BLANK"
                }
              ]
            },
            {
              "type": "SYMBOL",
              "name": "unnbody"
            }
          ]
        }
      ]
    },
    "maparrow": {
      "type": "CHOICE",
      "members": [
        {
          "type": "STRING",
          "value": "->"
        },
        {
          "type": "STRING",
          "value": "=>"
        }
      ]
    },
    "unnbody": {
      "type": "PREC_RIGHT",
      "value": 3,
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "SYMBOL",
            "name": "unncmp"
          },
          {
            "type": "REPEAT",
            "content": {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "+"
                },
                {
                  "type": "SYMBOL",
                  "name": "unncmp"
                }
              ]
            }
          }
        ]
      }
    },
    "unncmp": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "typeid"
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "{"
            },
            {
              "type": "SYMBOL",
              "name": "enum_list"
            },
            {
              "type": "STRING",
              "value": "}"
            }
          ]
        }
      ]
    },
    "typeid": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "bareid"
        },
        {
          "type": "SYMBOL",
          "name": "qualid"
        }
      ]
    },
    "enum_list": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "enum_cnst"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": ","
              },
              {
                "type": "SYMBOL",
                "name": "enum_cnst"
              }
            ]
          }
        }
      ]
    },
    "enum_cnst": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "digits"
        },
        {
          "type": "SYMBOL",
          "name": "real"
        },
        {
          "type": "SYMBOL",
          "name": "frac"
        },
        {
          "type": "SYMBOL",
          "name": "string"
        },
        {
          "type": "SYMBOL",
          "name": "bareid"
        },
        {
          "type": "SYMBOL",
          "name": "qualid"
        },
        {
          "type": "SYMBOL",
          "name": "range"
        }
      ]
    },
    "digits": {
      "type": "PATTERN",
      "value": "\\d+"
    },
    "real": {
      "type": "PATTERN",
      "value": "\\d+\\.\\d+"
    },
    "frac": {
      "type": "PATTERN",
      "value": "\\d+\\/[-+]?0*[1-9]\\d*"
    },
    "string": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "\""
        },
        {
          "type": "PATTERN",
          "value": "(?:[^\"\\\\]|\\\\.)*"
        },
        {
          "type": "STRING",
          "value": "\""
        }
      ]
    },
    "range": {
      "type": "SEQ",
      "members": [
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "STRING",
              "value": "-"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "SYMBOL",
          "name": "digits"
        },
        {
          "type": "STRING",
          "value": ".."
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "STRING",
              "value": "-"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "SYMBOL",
          "name": "digits"
        }
      ]
    },
    "rule": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "func_term_list"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": ":-"
                },
                {
                  "type": "SYMBOL",
                  "name": "body_list"
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "compr": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "{"
        },
        {
          "type": "SYMBOL",
          "name": "func_term_list"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "|"
                },
                {
                  "type": "SYMBOL",
                  "name": "body_list"
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": "}"
        }
      ]
    },
    "body_list": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "body"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": ";"
              },
              {
                "type": "SYMBOL",
                "name": "body"
              }
            ]
          }
        }
      ]
    },
    "body": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "constraint"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": ","
              },
              {
                "type": "SYMBOL",
                "name": "constraint"
              }
            ]
          }
        }
      ]
    },
    "constraint": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SEQ",
          "members": [
            {
              "type": "CHOICE",
              "members": [
                {
                  "type": "SEQ",
                  "members": [
                    {
                      "type": "CHOICE",
                      "members": [
                        {
                          "type": "STRING",
                          "value": "no"
                        },
                        {
                          "type": "BLANK"
                        }
                      ]
                    },
                    {
                      "type": "CHOICE",
                      "members": [
                        {
                          "type": "SEQ",
                          "members": [
                            {
                              "type": "SYMBOL",
                              "name": "id"
                            },
                            {
                              "type": "STRING",
                              "value": "is"
                            }
                          ]
                        },
                        {
                          "type": "BLANK"
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "BLANK"
                }
              ]
            },
            {
              "type": "SYMBOL",
              "name": "func_term"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "no"
            },
            {
              "type": "SYMBOL",
              "name": "compr"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "SYMBOL",
              "name": "func_term"
            },
            {
              "type": "SYMBOL",
              "name": "relop"
            },
            {
              "type": "SYMBOL",
              "name": "func_term"
            }
          ]
        }
      ]
    },
    "func_term_list": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "func_or_compr"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": ","
              },
              {
                "type": "SYMBOL",
                "name": "func_or_compr"
              }
            ]
          }
        }
      ]
    },
    "func_or_compr": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "func_term"
        },
        {
          "type": "SYMBOL",
          "name": "compr"
        }
      ]
    },
    "func_term": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "atom"
        },
        {
          "type": "PREC_RIGHT",
          "value": 4,
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "SYMBOL",
                "name": "unop"
              },
              {
                "type": "SYMBOL",
                "name": "func_term"
              }
            ]
          }
        },
        {
          "type": "PREC_RIGHT",
          "value": 3,
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "SYMBOL",
                "name": "func_term"
              },
              {
                "type": "SYMBOL",
                "name": "binop"
              },
              {
                "type": "SYMBOL",
                "name": "func_term"
              }
            ]
          }
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "FIELD",
              "name": "name",
              "content": {
                "type": "SYMBOL",
                "name": "id"
              }
            },
            {
              "type": "STRING",
              "value": "("
            },
            {
              "type": "SYMBOL",
              "name": "func_term_list"
            },
            {
              "type": "STRING",
              "value": ")"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "("
            },
            {
              "type": "SYMBOL",
              "name": "func_term"
            },
            {
              "type": "STRING",
              "value": ")"
            }
          ]
        }
      ]
    },
    "atom": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "id"
        },
        {
          "type": "SYMBOL",
          "name": "constant"
        }
      ]
    },
    "id": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "bareid"
        },
        {
          "type": "SYMBOL",
          "name": "qualid"
        }
      ]
    },
    "constant": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "digits"
        },
        {
          "type": "SYMBOL",
          "name": "real"
        },
        {
          "type": "SYMBOL",
          "name": "frac"
        },
        {
          "type": "SYMBOL",
          "name": "string"
        }
      ]
    },
    "unop": {
      "type": "STRING",
      "value": "-"
    },
    "binop": {
      "type": "CHOICE",
      "members": [
        {
          "type": "STRING",
          "value": "*"
        },
        {
          "type": "STRING",
          "value": "/"
        },
        {
          "type": "STRING",
          "value": "%"
        },
        {
          "type": "STRING",
          "value": "+"
        },
        {
          "type": "STRING",
          "value": "-"
        }
      ]
    },
    "relop": {
      "type": "CHOICE",
      "members": [
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "STRING",
          "value": "!="
        },
        {
          "type": "STRING",
          "value": "<"
        },
        {
          "type": "STRING",
          "value": "<="
        },
        {
          "type": "STRING",
          "value": ">"
        },
        {
          "type": "STRING",
          "value": ">="
        },
        {
          "type": "STRING",
          "value": ":"
        }
      ]
    },
    "bareid": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SEQ",
          "members": [
            {
              "type": "CHOICE",
              "members": [
                {
                  "type": "STRING",
                  "value": "%"
                },
                {
                  "type": "BLANK"
                }
              ]
            },
            {
              "type": "PATTERN",
              "value": "[A-Za-z_](\\w*'*)"
            }
          ]
        },
        {
          "type": "PATTERN",
          "value": "#[A-Za-z_](\\w*'*)(\\[\\d+\\])?"
        }
      ]
    },
    "qualid": {
      "type": "TOKEN",
      "content": {
        "type": "PREC_RIGHT",
        "value": 1,
        "content": {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "REPEAT1",
                  "content": {
                    "type": "SEQ",
                    "members": [
                      {
                        "type": "PATTERN",
                        "value": "[A-Za-z_](\\w*'*)"
                      },
                      {
                        "type": "STRING",
                        "value": "."
                      }
                    ]
                  }
                },
                {
                  "type": "CHOICE",
                  "members": [
                    {
                      "type": "PATTERN",
                      "value": "[A-Za-z_](\\w*'*)"
                    },
                    {
                      "type": "PATTERN",
                      "value": "#[A-Za-z_](\\w*'*)(\\[\\d+\\])?"
                    },
                    {
                      "type": "PATTERN",
                      "value": "%[A-Za-z_](\\w*'*)(\\.[A-Za-z_](\\w*'*))*"
                    }
                  ]
                }
              ]
            },
            {
              "type": "PATTERN",
              "value": "%[A-Za-z_]\\w*'*(\\.[A-Za-z_]\\w*'*)+"
            }
          ]
        }
      }
    },
    "comment": {
      "type": "TOKEN",
      "content": {
        "type": "CHOICE",
        "members": [
          {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": "//"
              },
              {
                "type": "PATTERN",
                "value": ".*"
              }
            ]
          },
          {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": "/*"
              },
              {
                "type": "REPEAT",
                "content": {
                  "type": "CHOICE",
                  "members": [
                    {
                      "type": "PATTERN",
                      "value": "[^*]"
                    },
                    {
                      "type": "PATTERN",
                      "value": "\\*[^/]"
                    }
                  ]
                }
              },
              {
                "type": "STRING",
                "value": "*/"
              }
            ]
          }
        ]
      }
    }
  },
  "extras": [
    {
      "type": "PATTERN",
      "value": "\\s"
    },
    {
      "type": "SYMBOL",
      "name": "comment"
    }
  ],
  "conflicts": [],
  "precedences": [],
  "externals": [],
  "inline": [],
  "supertypes": []
}

